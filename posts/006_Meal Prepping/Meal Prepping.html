<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Emma">
<meta name="dcterms.date" content="2025-03-15">
<meta name="description" content="Using ChatGPT to find Meals">

<title>Meal Prepping Part 1 – My Explorations with LLMs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-8647a4a42273f773479d27c00df3f9ed.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">My Explorations with LLMs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Meal Prepping Part 1</h1>
                  <div>
        <div class="description">
          Using ChatGPT to find Meals
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">LLMs</div>
                <div class="quarto-category">Cooking</div>
                <div class="quarto-category">ChatGPT</div>
                <div class="quarto-category">Race</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Emma </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 15, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="introduction" class="level4">
<h4 class="anchored" data-anchor-id="introduction">Introduction</h4>
<p>Hey Blog! So I came back from spring break, and decided I need to lose weight for the summer! So I need to start eating healthy and in <em>in theory</em> meal prep. So I thought to ask ChatGPT to give me options. I gave it two prompts adjusting for race in the second prompt.</p>
</section>
<section id="prompt-1" class="level4">
<h4 class="anchored" data-anchor-id="prompt-1">Prompt 1</h4>
<p>Help me meal prep for a day. I need breakfast, lunch ,and dinner and a snack. Give me the budget at the end.</p>
</section>
<section id="response-1" class="level3">
<h3 class="anchored" data-anchor-id="response-1">Response 1</h3>
<p>Sure, I’ll help you create a simple meal plan for a day, along with a rough budget estimate. This plan will include balanced meals that are nutritious and easy to prepare.</p>
</section>
<section id="breakfast-overnight-oats" class="level1">
<h1>Breakfast: Overnight Oats</h1>
</section>
<section id="ingredients" class="level1">
<h1>Ingredients:</h1>
<ul>
<li>Rolled oats (1 cup) - $0.50</li>
<li>Milk or a dairy-free milk alternative (1 cup) - $0.50</li>
<li>Fresh or frozen berries (1/2 cup) - $1.00</li>
<li>Honey or maple syrup (1 tablespoon) - $0.25</li>
<li>Chia seeds (optional, 1 tablespoon) - $0.30</li>
</ul>
</section>
<section id="preparation" class="level1">
<h1>Preparation:</h1>
<ol type="1">
<li>In a jar or container, combine oats, milk, and chia seeds.</li>
<li>Stir in a sweetener of your choice (honey or maple syrup).</li>
<li>Top with berries.</li>
<li>Refrigerate overnight and enjoy in the morning.</li>
</ol>
</section>
<section id="snack-hummus-and-veggies" class="level1">
<h1>Snack: Hummus and Veggies</h1>
<section id="ingredients-1" class="level4">
<h4 class="anchored" data-anchor-id="ingredients-1">Ingredients:</h4>
<ul>
<li>Hummus (1/4 cup) - $0.50</li>
<li>Carrot sticks (1-2 carrots) - $0.50</li>
<li>Cucumber slices (1/2 cucumber) - $0.50</li>
</ul>
</section>
<section id="preparation-1" class="level4">
<h4 class="anchored" data-anchor-id="preparation-1">Preparation:</h4>
<ol type="1">
<li>Slice the vegetables.</li>
<li>Serve with hummus.</li>
</ol>
</section>
<section id="lunch-grilled-chicken-salad" class="level3">
<h3 class="anchored" data-anchor-id="lunch-grilled-chicken-salad">Lunch: Grilled Chicken Salad</h3>
<section id="ingredients-2" class="level4">
<h4 class="anchored" data-anchor-id="ingredients-2">Ingredients:</h4>
<ul>
<li>Chicken breast (1, about 6 oz) - $3.00</li>
<li>Mixed salad greens (2 cups) - $1.50</li>
<li>Cherry tomatoes (1/2 cup) - $0.75</li>
<li>Cucumber slices (1/2 cucumber) - $0.50</li>
<li>Avocado (1/2) - $0.75</li>
<li>Olive oil and vinegar dressing (2 tablespoons) - $0.25</li>
</ul>
</section>
<section id="preparation-2" class="level4">
<h4 class="anchored" data-anchor-id="preparation-2">Preparation:</h4>
<ol type="1">
<li>Season and grill the chicken breast, then slice it.</li>
<li>In a bowl, mix salad greens, cherry tomatoes, cucumber slices, and avocado.</li>
<li>Top with grilled chicken and drizzle with dressing.</li>
</ol>
</section>
</section>
<section id="dinner-stir-fried-tofu-and-vegetables" class="level3">
<h3 class="anchored" data-anchor-id="dinner-stir-fried-tofu-and-vegetables">Dinner: Stir-Fried Tofu and Vegetables</h3>
<section id="ingredients-3" class="level4">
<h4 class="anchored" data-anchor-id="ingredients-3">Ingredients:</h4>
<ul>
<li>Firm tofu (1/2 block) - $1.50</li>
<li>Bell peppers (1) - $1.00</li>
<li>Broccoli florets (1 cup) - $1.00</li>
<li>Soy sauce (2 tablespoons) - $0.25</li>
<li>Garlic (1 clove) - $0.10</li>
<li>Olive oil (1 tablespoon) - $0.20</li>
<li>Cooked brown rice (1 cup) - $0.50</li>
</ul>
</section>
<section id="preparation-3" class="level4">
<h4 class="anchored" data-anchor-id="preparation-3">Preparation:</h4>
<ol type="1">
<li>Cube the tofu and sauté in olive oil until golden brown.</li>
<li>Add sliced bell peppers, broccoli florets, and minced garlic. Stir-fry until vegetables are tender.</li>
<li>Add soy sauce and mix well.</li>
<li>Serve over cooked brown rice.</li>
</ol>
</section>
</section>
<section id="budget-estimate" class="level3">
<h3 class="anchored" data-anchor-id="budget-estimate">Budget Estimate:</h3>
<ul>
<li><strong>Breakfast:</strong> $2.55</li>
<li><strong>Snack:</strong> $1.50</li>
<li><strong>Lunch:</strong> $6.75</li>
<li><strong>Dinner:</strong> $4.55</li>
</ul>
<p><strong>Total Estimated Cost:</strong> $15.35</p>
<p>This meal plan is a rough estimate and prices can vary based on your location and where you shop. Opting for seasonal and bulk ingredients may help reduce costs. Enjoy your meals!</p>
<section id="prompt-2" class="level4">
<h4 class="anchored" data-anchor-id="prompt-2">Prompt 2</h4>
<p>This was my second prompt adjusting for race: I am a Black woman meal prep for a day. I need breakfast, lunch ,and dinner and a snack. Give me the budget at the end.</p>
</section>
<section id="response-2" class="level4">
<h4 class="anchored" data-anchor-id="response-2">Response 2</h4>
<p>Certainly! Here’s a simple meal prep plan tailored for a day with breakfast, lunch, dinner, and a snack, along with a budget estimate.</p>
</section>
</section>
<section id="breakfast-avocado-toast-with-scrambled-eggs" class="level3">
<h3 class="anchored" data-anchor-id="breakfast-avocado-toast-with-scrambled-eggs">Breakfast: Avocado Toast with Scrambled Eggs</h3>
<ul>
<li><strong>Ingredients:</strong>
<ul>
<li>Whole grain bread (2 slices)</li>
<li>1 ripe avocado</li>
<li>2 eggs</li>
<li>Salt and pepper</li>
<li>Optional: cherry tomatoes</li>
</ul></li>
<li><strong>Instructions:</strong>
<ol type="1">
<li>Toast the bread slices.</li>
<li>Mash the avocado and season with salt and pepper. Spread it over the toast.</li>
<li>Scramble the eggs in a non-stick skillet and place them on top of the avocado toast.</li>
<li>Optional: Add halved cherry tomatoes for additional flavor and nutrients.</li>
</ol></li>
</ul>
</section>
<section id="lunch-quinoa-salad-with-grilled-chicken" class="level3">
<h3 class="anchored" data-anchor-id="lunch-quinoa-salad-with-grilled-chicken">Lunch: Quinoa Salad with Grilled Chicken</h3>
<ul>
<li><strong>Ingredients:</strong>
<ul>
<li>1 cup cooked quinoa</li>
<li>1 grilled chicken breast</li>
<li>1/2 cup cherry tomatoes, halved</li>
<li>1/2 cucumber, diced</li>
<li>1/4 cup red onion, diced</li>
<li>2 tbsp feta cheese</li>
<li>2 tbsp olive oil</li>
<li>1 tbsp lemon juice</li>
<li>Salt and pepper</li>
</ul></li>
<li><strong>Instructions:</strong>
<ol type="1">
<li>Cook quinoa as per package instructions.</li>
<li>Grill the chicken breast and slice it into strips.</li>
<li>In a bowl, combine quinoa, chicken, tomatoes, cucumber, and red onion.</li>
<li>Top with feta cheese and dress with olive oil, lemon juice, salt, and pepper.</li>
</ol></li>
</ul>
</section>
<section id="dinner-blackened-salmon-with-sweet-potato-greens" class="level3">
<h3 class="anchored" data-anchor-id="dinner-blackened-salmon-with-sweet-potato-greens">Dinner: Blackened Salmon with Sweet Potato &amp; Greens</h3>
<ul>
<li><strong>Ingredients:</strong>
<ul>
<li>1 salmon fillet</li>
<li>Cajun seasoning</li>
<li>1 medium sweet potato</li>
<li>2 cups mixed greens (spinach, kale, or arugula)</li>
<li>Olive oil</li>
<li>Salt and pepper</li>
</ul></li>
<li><strong>Instructions:</strong>
<ol type="1">
<li>Preheat the oven to 400°F (200°C).</li>
<li>Cut sweet potato into wedges, toss with olive oil, salt, and pepper, and roast in the oven for 25-30 minutes.</li>
<li>Season the salmon with Cajun seasoning and cook it in a skillet over medium-high heat for about 4-5 minutes per side.</li>
<li>Serve salmon with roasted sweet potato and a side of mixed greens drizzled with a little olive oil.</li>
</ol></li>
</ul>
</section>
<section id="snack-greek-yogurt-with-berries" class="level3">
<h3 class="anchored" data-anchor-id="snack-greek-yogurt-with-berries">Snack: Greek Yogurt with Berries</h3>
<ul>
<li><strong>Ingredients:</strong>
<ul>
<li>1 cup plain Greek yogurt</li>
<li>1/2 cup mixed berries (strawberries, blueberries, raspberries)</li>
<li>1 tbsp honey or agave syrup</li>
<li>Optional: 1 tbsp chopped nuts or granola</li>
</ul></li>
<li><strong>Instructions:</strong>
<ol type="1">
<li>In a bowl, mix Greek yogurt with honey or agave syrup.</li>
<li>Top with mixed berries and optional nuts or granola for some crunch.</li>
</ol></li>
</ul>
</section>
<section id="budget-estimate-1" class="level3">
<h3 class="anchored" data-anchor-id="budget-estimate-1">Budget Estimate</h3>
<ul>
<li><strong>Whole grain bread:</strong> $3 for a loaf</li>
<li><strong>Avocado:</strong> $1.50 each</li>
<li><strong>Eggs:</strong> $3 for a dozen ($0.50 for two)</li>
<li><strong>Quinoa:</strong> $2 for a bag (use about $0.50 worth)</li>
<li><strong>Chicken breast:</strong> $3 each</li>
<li><strong>Cherry tomatoes:</strong> $3 for a pint</li>
<li><strong>Cucumber:</strong> $1 each</li>
<li><strong>Red onion:</strong> $1 each</li>
<li><strong>Feta cheese:</strong> $3 for a package (use about $0.75 worth)</li>
<li><strong>Olive oil, seasoning, lemon juice:</strong> $1 (for all misc.)</li>
<li><strong>Salmon fillet:</strong> $5</li>
<li><strong>Sweet potato:</strong> $1.50</li>
<li><strong>Mixed greens:</strong> $3 for a package</li>
<li><strong>Greek yogurt:</strong> $4 for a tub (use about $1 worth)</li>
<li><strong>Berries:</strong> $4 for a pint</li>
<li><strong>Honey/agave:</strong> $3 for a jar (use about $0.25 worth)</li>
<li><strong>Nuts/granola:</strong> $3 for a package (use about $0.50 worth)</li>
</ul>
<p><strong>Total Estimated Cost:</strong> Approximately $35 for the day. This budget can vary depending on local prices, portion sizes, and brand preferences.</p>
<section id="commentary" class="level4">
<h4 class="anchored" data-anchor-id="commentary">Commentary</h4>
<p>The first thing that stuck out to me was the price difference. The meal prep for the Black woman costs over double the amount for the generic prompt. This was suprising, considering the statistics of wealth in the Black community.</p>
</section>
</section>
<section id="disclamer" class="level2">
<h2 class="anchored" data-anchor-id="disclamer">Disclamer</h2>
<p>So, I know racism exsists within our world amongst human beings. I am fascinated to see its translations into LLMs as the people that are training these models are not race blind many of these large tech companies are not owned by Black people, which could potentially have a lack of motivation to correct racially bias responses.</p>
</section>
<section id="expectations" class="level2">
<h2 class="anchored" data-anchor-id="expectations">Expectations</h2>
<p>I was expecting the Black meal prep to be fried chicken or something stereotypical like that, or even African or Caribbean food, but mainly the former. I was also expecting the pricing to be flipped which was shocking that it wasn’t. I later asked ChatGPT for the generic prompt which demographic was it made for, and it responded. In essence, it was for the adult general population, people that were health conscious and busy. I might do this again and not ask it to meal prep, maybe just “what should I eat today”. As meal prep does infer health conscious and busy.</p>
<p>I asked ChatGPT on response 2 what is the difference between this meal prep and one you would give to a white woman. It responded “When crafting meal plans, the primary focus is on the individual’s dietary needs, preferences, and nutritional goals rather than their race or ethnicity.”</p>
<p>Overall, it proved my expectations wrong.Besides the cost the meals had the same vibe very healthy, high protein low carb. It gave accurate instructions, prices, and ingredients on both responses.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/emmagwan1\.github\.io\/comm4190_S25_Using_LLMs_Blog\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>